function GetPlaylistSongs(){allPlaylistSongs.clear();allPlaylistSongs.add($(".songBtn").val());alert(allPlaylistSongs[0])}function PlayMusic(n,t){var r="",i;if(mySound!=null&&mySound.unload("mainSound"),allPlaylistSongs!=null?r="/Songs/"+$(allPlaylistSongs[playlistPos]).val()+".mp3":(allPlaylistSongs=initializedPlaylistSongs,r="/Songs/"+$(initializedPlaylistSongs[playlistPos]).val()+".mp3"),t&&(playlistPos=Math.floor(Math.random()*allPlaylistSongs.length),n=$(allPlaylistSongs[playlistPos]).val()),n!=="")for(allPlaylistSongs=initializedPlaylistSongs,r="/Songs/"+n+".mp3",i=0;i<allPlaylistSongs.length;i++)$(allPlaylistSongs[i]).val()===n&&(playlistPos=i);mySound=soundManager.createSound({id:"mainSound",onplay:function(){$("#playpauseIcon").removeClass("glyphicon-play");$("#playpauseIcon").addClass("glyphicon-pause")},onfinish:function(){NextSong()}});mySound.unload("mainSound");mySound.url=r;$("#barSongTitle").html($(allPlaylistSongs[playlistPos]).val());mySound.load();mySound.play()}function PauseResumeMusic(){mySound.paused?(mySound.play(),$("#playpauseIcon").removeClass("glyphicon-play"),$("#playpauseIcon").addClass("glyphicon-pause")):(mySound.pause(),$("#playpauseIcon").removeClass("glyphicon-pause"),$("#playpauseIcon").addClass("glyphicon-play"))}function NextSong(){playlistPos<allPlaylistSongs.length-1?playlistPos++:playlistPos=0;PlayMusic("",!1)}function PreviousSong(){playlistPos<allPlaylistSongs.length-1&&playlistPos<=0?playlistPos=allPlaylistSongs.length-1:playlistPos<=allPlaylistSongs.length-1&&playlistPos>0&&playlistPos--;PlayMusic("",!1)}function OpenModalDetails(n){var t=0;n.includes("create")||(t=$("#dropdownPlaylist").attr("value"));ModalDetails(t,n)}function SideBarInterfaces(n,t){$.ajax({url:"/SideBar/SideBarActions",type:"get",data:{menuBtnVal:t},datatype:"json",success:function(t){$(n).html(t);initializedPlaylistSongs=$(document).find(".songBtn")}})}function RenderSideBar(n){$.ajax({url:"/SideBar/RenderSideBar",type:"get",datatype:"json",success:function(t){$(n).html(t)}})}function AddSongToPlaylist(n,t){$.ajax({url:"/Playlist/AddSongToPlaylist",type:"post",data:{songId:n,playlistId:t},datatype:"json",success:function(){RenderSideBar($("#sideBar"));event.preventDefault()}})}function CreateNewPlaylist(n){$.ajax({url:"/Playlist/CreatePlaylist",type:"post",data:$(n).serialize(),datatype:"json",success:function(){RenderSideBar($("#sideBar"))}})}function UpdatePlaylist(n,t){$.ajax({url:"/Playlist/UpdatePlaylist",type:"post",data:$(t).serialize()+"&playlistId="+n,datatype:"json",success:function(){RenderSideBar($("#sideBar"));SideBarInterfaces($("#mainPartial"),"playlist "+n)}})}function DeletePlaylist(n){$.ajax({url:"/Playlist/DeletePlaylist",type:"post",data:{playlistId:n},datatype:"json",success:function(){RenderSideBar($("#sideBar"))}})}function ModalDetails(n,t){$.ajax({url:"/Playlist/ModalDetails",type:"post",data:{playlistId:n,modalType:t},datatype:"json",success:function(i){if($("#detailsModal").html(i),t.includes("create")){$("#createPlaylistModal").modal("show");$("#detailsModal").find("#createPlaylist").unbind("submit").on("submit",function(){CreateNewPlaylist(this);$("#createPlaylistModal").modal("hide");event.preventDefault()})}else if(t.includes("edit")){$("#editPlaylistModal").modal("show");$("#detailsModal").find("#editPlaylist").unbind("submit").on("submit",function(){UpdatePlaylist(n,this);$("#editPlaylistModal").modal("hide");event.preventDefault()})}else if(t.includes("delete")){$("#deletePlaylistModal").modal("show");$("#detailsModal").find("#deletePlaylist").on("submit",function(){DeletePlaylist(n);$("#deletePlaylistModal").modal("hide")})}}})}var playlistPos=0,allPlaylistSongs,initializedPlaylistSongs,menuBtnVal="",mySound;$(document).ready(function(){RenderSideBar($("#sideBar"));$(".playpause").click(function(){PauseResumeMusic()})});$("#volumeSlider").on("input",function(){mySound.setVolume($(this).val())});